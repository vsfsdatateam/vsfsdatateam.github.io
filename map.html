<!DOCTYPE html>
<html lang="en">

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.js"></script>   

<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
<script src="http://datamaps.github.io/scripts/datamaps.world.min.js"></script>

    
<script>

    $(document).ready(function(){ 
    $("#myTab li:eq(0) a").tab('show');
});
    
</script>
    
<body>
<nav>
    <ul class="nav nav-pills center-pills" role="tablist" id="myTab">
        <li><a data-toggle="pill" href="#sectionA">Section A</a></li>
        <li><a data-toggle="pill" href="#sectionB">Section B</a></li>
    </ul>
</nav>
      
			<div id="main-wrapper">
				<div class="container">
							
                    <div id="container"></div>
                    <!-- Portfolio -->
                    <section>
                        <div class="tab-content">
                          <div id="sectionA" class="tab-pane fade">
                              <H2>A</H2>
                              <div id="container" style="position: relative; width: 800px; height: 300px;"></div>
                              <!-- the map will appear here -->

                             <script>
                                  var map = new Datamap({
                                element: document.getElementById('container'),
                                responsive: true,
                                fills: {
                                    HIGH: '#afafaf',
                                    LOW: '#123456',
                                    MEDIUM: 'blue',
                                    UNKNOWN: 'rgb(0,0,0)',
                                    defaultFill: 'green'
                                },
                                data: {
                                    IRL: {
                                        fillKey: 'LOW',
                                        numberOfThings: 2002
                                    },
                                    USA: {
                                        fillKey: 'MEDIUM',
                                        numberOfThings: 10381
                                    }
                                },
                                geographyConfig: {
                                    popupTemplate: function(geo, data) {
                                        return ['<div class="hoverinfo"><strong>',
                                                'Number of things in ' + geo.properties.name,
                                                ': ' + data.numberOfThings,
                                                '</strong></div>'].join('');
                                    }
                                }
                                });

                                $('a[data-toggle="pill"]').on('shown.bs.tab', function (e) {
                                  var target = $(e.target).attr("href") // activated tab

                                    if(target == '#sectionA'){  
                                        console.log("A"); 
                                        map.resize();

                                    }
                                });
                              </script>

                           </div>
                          <div id="sectionB" class="tab-pane fade">
                              <div style="position: relative;">
                                <H2>B</H2>
                              </div>
                          </div>
                        </div>
                    </section>
                </div>
    </div>

</body>
</html>  
